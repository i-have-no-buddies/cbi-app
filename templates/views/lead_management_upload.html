{{extend './layout.html'}} {{block 'content'}}
<div class="card">
  <div class="card-body">
    <form action="/lead-management/new_upload" method="post" enctype="multipart/form-data">
    <div class="form-group">
      <label>Upload Name</label>
      <input
        type="text"
        class="form-control"
        id="upload_name"
        name="upload_name"
        value="{{if body}}{{body.upload_name}}{{/if}}" 
      />
      <small id="upload_name_error" class="form-text text-danger"></small>
    </div>
    <div class="form-group">
      <label for="file_input">File input</label>
      <div class="input-group">
        <div class="custom-file">
          <input 
            type="file" 
            class="custom-file-input" 
            id="file_input"
            name="file_input">
          <label class="custom-file-label" for="file_input">Choose file</label>
        </div>
      </div>
      <small id="file_input_error" class="form-text text-danger"></small>
    </div>
      <div class="form-group">
        <button class="btn bg-info btn-block">
          <i class="fas fa-file-upload"></i> Upload
        </button>
      </div>
    </form>
  </div>
</div>
{{/block}}{{block 'javascript'}}
<script src="/assets/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>
<script>
  $(function () {
    bsCustomFileInput.init();
  });

  function handleError(key, value) {
    $(`#${key}`).addClass('is-invalid')
    $(`#${key}_error`).html(value)
  }

  {{each errors}}
    handleError(`{{$index}}`,`{{$value}}`)
  {{/each}}
  
</script>
{{/block}}

